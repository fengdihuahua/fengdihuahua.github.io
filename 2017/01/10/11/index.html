<!DOCTYPE html>
<html>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="cookie什么是 cookiecookie是指某些网站为了辨别用户身份而存储在用户本地终端（client side）上的数据（通常经过加密）。cookie通过HTTP请求报文和响应报文配合完成。cookie是存储于访问者的计算机中的变量。每当同一台计算机通过浏览器请求同一个页面时，就会发送这个 cookie 。通俗的说就是当一个用户通过HTTP协议访问一个服务器的时候，这个服务器会将一些key/">
<meta property="og:type" content="article">
<meta property="og:title" content="【笔记】<js> -->  cookie session webStorage 区别">
<meta property="og:url" content="fengdi.pro/2017/01/10/11/index.html">
<meta property="og:site_name" content="2hua的个人博客">
<meta property="og:description" content="cookie什么是 cookiecookie是指某些网站为了辨别用户身份而存储在用户本地终端（client side）上的数据（通常经过加密）。cookie通过HTTP请求报文和响应报文配合完成。cookie是存储于访问者的计算机中的变量。每当同一台计算机通过浏览器请求同一个页面时，就会发送这个 cookie 。通俗的说就是当一个用户通过HTTP协议访问一个服务器的时候，这个服务器会将一些key/">
<meta property="og:updated_time" content="2017-01-11T03:00:04.314Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="【笔记】<js> -->  cookie session webStorage 区别">
<meta name="twitter:description" content="cookie什么是 cookiecookie是指某些网站为了辨别用户身份而存储在用户本地终端（client side）上的数据（通常经过加密）。cookie通过HTTP请求报文和响应报文配合完成。cookie是存储于访问者的计算机中的变量。每当同一台计算机通过浏览器请求同一个页面时，就会发送这个 cookie 。通俗的说就是当一个用户通过HTTP协议访问一个服务器的时候，这个服务器会将一些key/">
    
    
        <link rel="icon" type="image/png" href="/images/favicon.png" sizes="32x32" />
    
    <!-- title -->
    <title>【笔记】&lt;js&gt; --&gt;  cookie session webStorage 区别</title>
    <!-- styles -->
    <link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/lib/meslo-LG/styles.css">
    <link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
    <!-- jquery -->
    <script src="/lib/jquery/jquery.min.js"></script>
</head>

<body>
    <div class="content post width mx-auto px2 my4">
  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <span class="top-subtitle">
          <a href="/archives">Writing</a>
      </span>
      
    <h1 class="posttitle" itemprop="name headline">
        【笔记】&lt;js&gt; --&gt;  cookie session webStorage 区别
    </h1>



      <div class="meta">
          <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
              <span itemprop="name">2hua的个人博客</span>
          </span>
          
    <div class="postdate">
        <time datetime="2017-01-10T11:05:00.000Z" itemprop="datePublished">2017-01-10</time>
    </div>


          

      </div>
    </header>
    

    <div class="content" itemprop="articleBody">
      <h2 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h2><h3 id="什么是-cookie"><a href="#什么是-cookie" class="headerlink" title="什么是 cookie"></a>什么是 cookie</h3><p>cookie是指某些网站为了辨别用户身份而存储在用户本地终端（client side）上的数据（通常经过加密）。cookie通过HTTP请求报文和响应报文配合完成。<br>cookie是存储于访问者的计算机中的变量。每当同一台计算机通过浏览器请求同一个页面时，就会发送这个 cookie 。<br>通俗的说就是当一个用户通过HTTP协议访问一个服务器的时候，这个服务器会将一些key/Value键值对返回给客户端浏览器，并给这些数据加上一些限制条件，在条件符合时这个用户下次访问这个服务器的时候，数据又被完整的带回给服务器。<br>cookie是浏览器提供的一种机制，可以由 javascript 对其进行控制，而不是 javascript 本身的性质。</p>
<h3 id="HTTP-无状态"><a href="#HTTP-无状态" class="headerlink" title="HTTP 无状态"></a>HTTP 无状态</h3><p>HTTP协议是无状态的协议。一旦数据交换完毕，客户端与服务器的连接就会关闭，再次交换数据需要建立新的连接。这就意味着服务器无法从连接上跟踪会话。<br>而cookie机制采用的是在客户端保持状态的方案，而session机制采用的是在服务器端保持状态的方案。</p>
<h3 id="cookie-的不可跨域名性"><a href="#cookie-的不可跨域名性" class="headerlink" title="cookie 的不可跨域名性"></a>cookie 的不可跨域名性</h3><p>cookie是存于用户硬盘的一个文件，这个文件通常对应于一个域名。cookie可以跨越同一个域名下的多个网页，但不能跨越多个域名使用。</p>
<h3 id="cookie-的使用场景"><a href="#cookie-的使用场景" class="headerlink" title="cookie 的使用场景"></a>cookie 的使用场景</h3><ol>
<li>购物车<br>没有登录之前商品数据是保存在cookie中</li>
<li>记住用户名<br>利用cookie保存用户名</li>
<li>记住窝<br>利用cookie来保存用户名和密码（加密后保存的）</li>
</ol>
<h3 id="cookie-的缺点"><a href="#cookie-的缺点" class="headerlink" title="cookie 的缺点"></a>cookie 的缺点</h3><ol>
<li>cookie体积过大会造成请求和响应速度变慢。</li>
<li>默认浏览器会任何请求都把cookie带上去，哪怕是静态资源。</li>
<li>cookie可以在前后端修改，数据容易篡改或伪造。</li>
<li>cookie对于敏感数据的保护基本是无效的。</li>
<li>有些用户是禁用掉cookie的</li>
</ol>
<h2 id="session"><a href="#session" class="headerlink" title="session"></a>session</h2><p>除了cookie，web应用程序中还经常使用session来记录客户端的登录状态。不同于cookie，session保存在服务器上。session相当于程序在服务器上建立一份客户档案，客户来访时只需要查询客户档案表就可以了。</p>
<h2 id="webStorage"><a href="#webStorage" class="headerlink" title="webStorage"></a>webStorage</h2><p>webStorage是HTML5中本地存储的解决方案之一，在 html5 中的 WebStorage 概念引入并不是为取代 cookie 而制定的标准，cookie 作为HTTP协议的一部分用来处理客户端和服务器通信是不可或缺的， session正是依赖于实现的客户端状态保持。<br>webStorage的意图在于解决本地本来不应该用 cookie 做，却不得不用cookie的本地存储。</p>
<h3 id="webStorage-的优势"><a href="#webStorage-的优势" class="headerlink" title="webStorage 的优势"></a>webStorage 的优势</h3><ol>
<li>从容量上讲WebStorage一般浏览器提供5M的存储空间。</li>
<li>安全性上WebStorage 并不作为 HTTP header 发送的浏览器，所以相对安全。</li>
<li>从流量上讲，因为WebStorage不传送到服务器，所以不必要的流量可以节省。</li>
</ol>
<p>Html 5的Web Storage分兩種，一個是sessionStorage，另一個是localStorage，兩者差別就差在生命周期的不同而已。<br>sessionStorage 用于本地存储一个会话（session）中的数据，这些数据只有在同一个会话中的页面才能访问并且当会话结束后数据也随之销毁。因此 sessionStorage 不是一种长久化的本地存储，仅仅是会话级别的存储。<br>而localStorage则正好相反，除非主动删除数据，否则数据是永远不会过期的。</p>
<h2 id="cookie和session的区别"><a href="#cookie和session的区别" class="headerlink" title="cookie和session的区别"></a>cookie和session的区别</h2><ol>
<li>session 保存在服务器，客户端不知道其中的信息；cookie 保存在客户端，服务器能够知道其中的信息。</li>
<li>session 中保存的是对象，cookie 中保存的是字符串。</li>
<li>session 不能区分路径，同一个用户在访问一个网站期间，所有的session在任何地方都可以访问到。而 cookie 中如果设置了路径参数，那么同一个网站不同路径下的 cookie 互相是不可以访问的。</li>
<li>cookie 不是很安全，本人可以分析存放在本地的 COOKIE 并进行 COOKIE欺骗</li>
<li>session 会在一定时间内保存在服务器上。当访问增多，会占用你服务器的性能。考虑到减轻服务器性能方面，应该使用 COOKIE。</li>
<li>单个 cookie 保存的数据不能超过 4k ，很多浏览器都限制一个站点最多保存 20 个 cookie。</li>
<li>session 是通过 cookie来工作的。</li>
</ol>
<h2 id="cookie-和-sessionStorage-、localStorage之间的区别"><a href="#cookie-和-sessionStorage-、localStorage之间的区别" class="headerlink" title="cookie 和　sessionStorage 、localStorage之间的区别"></a>cookie 和　sessionStorage 、localStorage之间的区别</h2><ol>
<li>共同点：都是保存在浏览器端，且同源的。</li>
<li>区别：<ul>
<li>cookie数据始终在同源的http请求中携带（即使不需要），即cookie在浏览器和服务器间来回传递。而sessionStorage和localStorage不会自动把数据发给服务器，仅在本地保存。</li>
<li>cookie数据还有路径（path）的概念，可以限制cookie只属于某个路径下。</li>
<li>存储大小限制也不同，cookie数据不能超过4k，同时因为每次http请求都会携带cookie，所以cookie只适合保存很小的数据，如会话标识。sessionStorage和localStorage 虽然也有存储大小的限制，但比cookie大得多，可以达到5M或更大。</li>
<li>数据有效期不同，<br>sessionStorage：仅在当前浏览器窗口关闭前有效，自然也就不可能持久保持；<br>localStorage：始终有效，窗口或浏览器关闭也一直保存，因此用作持久数据；<br>cookie只在设置的cookie过期时间之前一直有效，即使窗口或浏览器关闭。</li>
<li>作用域不同，<br>sessionStorage不在不同的浏览器窗口中共享，即使是同一个页面；<br>localStorage 在所有同源窗口中都是共享的；<br>cookie也是在所有同源窗口中都是共享的。</li>
<li>Web Storage 支持事件通知机制，可以将数据更新的通知发送给监听者。</li>
<li>Web Storage 的 api 接口使用更方便。</li>
</ul>
</li>
</ol>
<h1 id="sessionStorage与页面-js-数据对象的区别"><a href="#sessionStorage与页面-js-数据对象的区别" class="headerlink" title="sessionStorage与页面 js 数据对象的区别"></a>sessionStorage与页面 js 数据对象的区别</h1><p>页面中一般的 js 对象或数据的生存期是仅在当前页面有效，因此刷新页面或转到另一页面这样的重新加载页面的情况，数据就不存在了。<br>而 sessionStorage 只要同源的同窗口（或tab）中，刷新页面或进入同源的不同页面，数据始终存在。也就是说只要这个浏览器窗口没有关闭，加载新页面或重新加载，数据仍然存在。</p>
<p>参考自：</p>
<p><a href="http://blog.csdn.net/you23hai45/article/details/49052251" target="_blank" rel="external">请描述一下 cookies，sessionStorage 和 localStorage 的区别？</a></p>

    </div>
  </article>
  

</div>

    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2017 2hua的个人博客
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/archives">Writing</a></li>
        <li><a href="https://github.com/fengdihuahua">Projects</a></li>
      </ul>
    </nav>
  </div>
</footer>

    <script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-86660611-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Disqus Comments -->


</body>
</html>
