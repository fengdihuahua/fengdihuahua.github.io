<!DOCTYPE html>
<html>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="题记javascript 是一种基于对象（object-based）的语言，但是并不是一种真正的面向对象编程（OOP）语言，因为它的语法中没有类（class）。所有 javascript 实现继承一般都是基于原型链的方式。12345678//JS继承function Friend()&amp;#123;&amp;#125;Friend.prototype.say = function()&amp;#123;&amp;#125;;">
<meta property="og:type" content="article">
<meta property="og:title" content="【笔记】<js>--> javascript 实现继承">
<meta property="og:url" content="fengdi.pro/2017/03/17/17/index.html">
<meta property="og:site_name" content="2hua的个人博客">
<meta property="og:description" content="题记javascript 是一种基于对象（object-based）的语言，但是并不是一种真正的面向对象编程（OOP）语言，因为它的语法中没有类（class）。所有 javascript 实现继承一般都是基于原型链的方式。12345678//JS继承function Friend()&amp;#123;&amp;#125;Friend.prototype.say = function()&amp;#123;&amp;#125;;">
<meta property="og:updated_time" content="2017-03-17T08:45:05.175Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="【笔记】<js>--> javascript 实现继承">
<meta name="twitter:description" content="题记javascript 是一种基于对象（object-based）的语言，但是并不是一种真正的面向对象编程（OOP）语言，因为它的语法中没有类（class）。所有 javascript 实现继承一般都是基于原型链的方式。12345678//JS继承function Friend()&amp;#123;&amp;#125;Friend.prototype.say = function()&amp;#123;&amp;#125;;">
    
    
        <link rel="icon" type="image/png" href="/images/favicon.png" sizes="32x32" />
    
    <!-- title -->
    <title>【笔记】&lt;js&gt;--&gt; javascript 实现继承</title>
    <!-- styles -->
    <link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/lib/meslo-LG/styles.css">
    <link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
    <!-- jquery -->
    <script src="/lib/jquery/jquery.min.js"></script>
</head>

<body>
    <div class="content post width mx-auto px2 my4">
  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <span class="top-subtitle">
          <a href="/archives">Writing</a>
      </span>
      
    <h1 class="posttitle" itemprop="name headline">
        【笔记】&lt;js&gt;--&gt; javascript 实现继承
    </h1>



      <div class="meta">
          <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
              <span itemprop="name">2hua的个人博客</span>
          </span>
          
    <div class="postdate">
        <time datetime="2017-03-17T07:49:00.000Z" itemprop="datePublished">2017-03-17</time>
    </div>


          

      </div>
    </header>
    

    <div class="content" itemprop="articleBody">
      <h2 id="题记"><a href="#题记" class="headerlink" title="题记"></a>题记</h2><p>javascript 是一种基于对象（object-based）的语言，但是并不是一种真正的面向对象编程（OOP）语言，因为它的语法中没有类（class）。<br>所有 javascript 实现继承一般都是基于原型链的方式。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//JS继承</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Friend</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line">Friend.prototype.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line"><span class="keyword">var</span> s1 = <span class="keyword">new</span> Student();</div><div class="line">s1.say();</div><div class="line"><span class="comment">//继承关系：</span></div><div class="line"><span class="comment">//s1 继承自原型对象 =&gt; s1.__proto__ === 原型对象</span></div><div class="line"><span class="comment">//a 继承自 b =&gt; a.__proto__=== b</span></div></pre></td></tr></table></figure></p>
<h2 id="实现继承的几种方式"><a href="#实现继承的几种方式" class="headerlink" title="实现继承的几种方式"></a>实现继承的几种方式</h2><h3 id="扩展原型对象实现继承"><a href="#扩展原型对象实现继承" class="headerlink" title="扩展原型对象实现继承"></a>扩展原型对象实现继承</h3><p>构造函数有一个prototype属性（原型对象），通过给原型对象添加一个属性、方法，从而可以让构造函数的实例可以访问到，这种继承模型称之为：扩展原型对象实现继承。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line">Person.prototype.a = <span class="number">10</span>;</div><div class="line">Person.prototype.b = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"b"</span>);</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person();</div><div class="line"><span class="built_in">console</span>.log(p1.a);</div><div class="line"><span class="built_in">console</span>.log(p1.b);</div><div class="line"><span class="comment">//运行结果为：</span></div><div class="line"><span class="comment">//10</span></div><div class="line"><span class="comment">//02-扩展原型对象.html:19 function ()&#123;</span></div><div class="line"><span class="comment">//    console.log("b");</span></div><div class="line"><span class="comment">//&#125;</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//p1 是继承自 Person 构造函数的原型对象</span></div><div class="line"><span class="comment">//p1.__proto__(Person.prototype)</span></div></pre></td></tr></table></figure></p>
<h3 id="替换原型对象实现继承"><a href="#替换原型对象实现继承" class="headerlink" title="替换原型对象实现继承"></a>替换原型对象实现继承</h3><p>当我们需要给构造函数的原型对象中添加很多个属性、方法的时候，如果一直使用扩展原型对象，就会多写很多冗余的代码。<br>重新给构造函数的prototype属性赋值，值是一个全新的对象，在这个对象中添加属性、方法。</p>
<p>要注意一定要给这个对象添加constructor属性，值指向构造函数本身。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Football</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line"><span class="comment">//将默认的原型对象替换掉，换成一个全新的对象。</span></div><div class="line">Football.prototype = &#123;</div><div class="line">    <span class="attr">constructor</span>:Football,</div><div class="line">    <span class="attr">a1</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,</div><div class="line">    <span class="attr">a2</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,</div><div class="line">    <span class="attr">a3</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> f1 = <span class="keyword">new</span> Football();</div><div class="line"><span class="built_in">console</span>.log(f1.constructor);</div><div class="line"><span class="comment">//function Football()&#123;&#125;</span></div></pre></td></tr></table></figure></p>
<h3 id="混入继承"><a href="#混入继承" class="headerlink" title="混入继承"></a>混入继承</h3><p>混入继承的使用场景：已知对象o, o2，需要将 o 中的功能(属性、方法)拷贝到 o2 中。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * 混入继承：将源对象中的属性和方法拷贝到目标对象中。</div><div class="line"> * @param target 目标对象</div><div class="line"> * @param source 源对象</div><div class="line"> */</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">mixin</span>(<span class="params">target,source</span>)</span>&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> source) &#123;</div><div class="line">        <span class="keyword">var</span> value = source[key];</div><div class="line">        target[key] = value;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> target;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> o = &#123;</div><div class="line">  <span class="attr">name</span>:<span class="string">"张三"</span>, </div><div class="line">  <span class="attr">age</span>:<span class="number">18</span>, </div><div class="line">  <span class="attr">height</span>:<span class="number">170</span></div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> o2=&#123;&#125;;</div><div class="line"><span class="built_in">console</span>.log(mixin(o2, o));</div><div class="line"><span class="built_in">console</span>.log(mixin(o2, &#123;<span class="attr">a</span>:<span class="number">10</span>, <span class="attr">b</span>:<span class="number">20</span>, <span class="attr">c</span>:<span class="number">30</span>&#125;));</div><div class="line"><span class="comment">//Object &#123;name: "张三", age: 18, height: 170&#125;</span></div><div class="line"><span class="comment">//Object &#123;name: "张三", age: 18, height: 170, a: 10, b: 20, c:30&#125;</span></div></pre></td></tr></table></figure></p>
<h3 id="原型-混入继承"><a href="#原型-混入继承" class="headerlink" title="原型 + 混入继承"></a>原型 + 混入继承</h3><p>原型 + 混入继承本质上就是对混入继承的一次运用。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line">Cat.prototype.extend=<span class="function"><span class="keyword">function</span> (<span class="params">source</span>)</span>&#123;</div><div class="line">    <span class="comment">//调用实现混入继承的函数往原型对象中添加属性、方法</span></div><div class="line">    mixin(Cat.prototype,source);</div><div class="line">&#125;;</div><div class="line"><span class="comment">//利用混入继承向原型对象中扩展属性和方法</span></div><div class="line"><span class="comment">//mixin(Cat.prototype,&#123;a:10,b:20,c:30&#125;);</span></div><div class="line">Cat.prototype.extend(&#123;<span class="attr">a</span>:<span class="number">30</span>,<span class="attr">b</span>:<span class="number">50</span>,<span class="attr">c</span>:<span class="number">70</span>&#125;);</div><div class="line"><span class="comment">//原型+混入继承在jQuery中也有很常见的应用：</span></div><div class="line"><span class="comment">//$.fn.extend() =&gt; jQuery.prototype.extend()</span></div></pre></td></tr></table></figure></p>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>未完，<br>有时间再总结 :-P</p>

    </div>
  </article>
  

</div>

    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2017 2hua的个人博客
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/archives">Writing</a></li>
        <li><a href="https://github.com/fengdihuahua">Projects</a></li>
      </ul>
    </nav>
  </div>
</footer>

    <script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-86660611-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Disqus Comments -->


</body>
</html>
